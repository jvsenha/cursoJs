<!doctype html>
<html lang="en">

<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
</head>

<body>
    <!--5. Funções Construtoras: Criando uma função construtora para representar uma conta bancária:
Enunciado: Defina uma função construtora chamada ContaBancaria que aceite parâmetros como nome, saldo e tipo (como "corrente" ou "poupança").
Utilize um formulário HTML para permitir que o usuário crie uma conta bancária e exiba os detalhes dela na página.
 Crie métodos para depósito e saque, alterando o saldo e mostrando ao usuário.
--> <div class="container">
    <div class="row">
        <div class="col-md-6">
            <h2 class="m-2">Cadastro</h2>
            <div class="m-2">
                <label for="nome" class="form-label">Nome</label>
                <input type="text" id="nome" class="form-control">
            </div>

            <div class="m-2">
                <label for="saldo" class="form-label">Saldo</label>
                <input type="number" id="saldo" class="form-control">
            </div>

            <div class="m-2">
                <label for="tipo" class="form-label">Tipo</label>
                <select class="form-select" id="tipo">
                    <option value="corrente" selected>Corrente</option>
                    <option value="poupança">Poupança</option>
                </select>
            </div>

            <div class="m-2">
                <button type="button" onclick="Cadastrar()" class="btn btn-dark">Cadastrar</button>
            </div>
        </div>

        <div class="col-md-6">
            <h2 class="m-2">Atualização</h2>
            <div class="m-2">
                <label for="transf" class="form-label">Transferência</label>
                <select class="form-select" id="transf">
                    <option value="deposito">Depósito</option>
                    <option value="saque">Saque</option>
                </select>
            </div>

            <div class="m-2">
                <label for="valor" class="form-label">Valor</label>
                <input type="number" id="valor" class="form-control">
            </div>

            <div class="m-2">
                <button type="button" onclick="transferencia()" class="btn btn-dark">Atualizar</button>
            </div>
        </div>
    </div>
</div>

<div class="container mt-5">
    <div class="row">
        <div class="col-md-6">
            <h1><span class="badge bg-dark" id="conta"></span></h1>
            <h2>Nome de Usuário: <span class="badge bg-secondary" id="user"></span></h2>
            <h2>Saldo: <span class="badge bg-info text-dark" id="saldoUser"></span></h2>
        </div>
    </div>
</div>

<script>
    function ContaBancaria(Nome, saldo, tipo) {
        this.Nome = Nome;
        this.saldo = saldo;
        this.tipo = tipo;
    }

    let user = document.getElementById('user');
    let saldoUser = document.getElementById('saldoUser');
    let conta = document.getElementById('conta');
    let novoUser;
    function Cadastrar() {
        let nome = document.getElementById("nome").value;
        let saldo = Number(document.getElementById("saldo").value);
        let tipo = document.getElementById("tipo").value;
        novoUser = new ContaBancaria(nome, saldo, tipo)
        user.innerHTML = `${novoUser.Nome}`;
        saldoUser.innerHTML = `${saldo.toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })}`;
        conta.innerHTML = `${novoUser.tipo}`;
    }
    
    function transferencia() {
        let transf = document.getElementById('transf').value;
        let valor = Number(document.getElementById('valor').value);
        let saldoAtual = novoUser.saldo;
        let novoSaldo;

        if (transf == 'deposito') {
            novoUser.saldo = saldoAtual + valor;
        } else {
            novoUser.saldo = saldoAtual - valor;
        }
        novoSaldo = novoUser.saldo; 
        saldoUser.innerHTML = `${novoSaldo.toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })}`;
    }
</script>
</body>

</html>